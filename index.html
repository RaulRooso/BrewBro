<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BrewCalc Vanilla JS</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  * {
    box-sizing: border-box;
  }

  html, body {
    height: 100%;
    margin: 0;
    background: #f8f8f8;
  }

  body {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px; /* ruum √ºmber kogu ekraani */
  }

  .container {
    display: flex;
    flex: 1;
    max-width: 1400px; /* piirab laiuse, et ei veniks l√µpmatuseni */
    height: 100%;
    border-radius: 10px;
    background: #fff;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    overflow: hidden; /* v√§listab sisu √ºletamise */
  }

  .left-panel {
    flex: 1;
    max-width: 25%;
    border-right: 1px solid #ddd;
    padding: 20px;
    overflow-y: auto;
  }

  .right-panel {
    flex: 3;
    padding: 20px;
    overflow-y: auto;
  }
  .header-line {
  display: flex;
  align-items: center;
  gap: 10px;
  border-bottom: 1px solid #000;
  padding-bottom: 10px;
  margin-bottom: 15px;
}

.header-line input {
  border: 1px solid #000;
  padding: 6px;
  flex: 1;
}

.left-panel {
  position: sticky; 
  top: 0; 
  align-self: flex-start; 
  height: 100vh;
}

</style>
</head>
<body>

<div class="container">
  <!-- Left Panel -->
  <div class="left-panel">
    <div class="mb-4">
      <h2 class="text-sm font-bold mb-2">üìä Calculation Results</h2>
      <div class="space-y-1 text-sm">
        <div class="flex justify-between"><span>ABV</span><span id="calc-abv">%</span></div>
        <div class="flex justify-between"><span>OG</span><span id="calc-og">1.xxx</span></div>
        <div class="flex justify-between"><span>FG</span><span id="calc-fg">1.xxx</span></div>
        <div class="flex justify-between"><span>IBU</span><span id="calc-ibu">xx</span></div>
        <div class="flex justify-between"><span>EBC</span><span id="calc-ebc">xx</span></div>
        <div class="flex justify-between"><span>pH</span><span id="calc-ph">xx</span></div>
      </div>
    </div>

    <div>
      <h2 class="text-sm font-bold mb-2">Navigation</h2>
      <div class="nav-item bg-gray-100 px-2 py-2 mb-1 cursor-pointer">üìñ Recipes</div>
      <div class="nav-item px-2 py-2 mb-1 cursor-pointer">üç∫ Profiles</div>
      <div class="nav-item px-2 py-2 mb-1 cursor-pointer">üé® Styles</div>
      <div class="nav-item px-2 py-2 mb-1 cursor-pointer">‚öôÔ∏è Settings</div>
      <div class="nav-item px-2 py-2 cursor-pointer">üíß Water calc</div>
    </div>
  </div>

  <!-- Right Panel -->
  <div class="right-panel">
    <!-- Header -->
    <div class="header-line">
        <span>Recipe name:</span>
        <input type="text" id="recipeName" placeholder="Enter recipe name" />
        <button id="saveRecipe">üíæ Save</button>
    </div>
    <!-- Fermentables -->
    <div class="mb-6">
      <div class="flex justify-between mb-2 items-center">
        <span class="font-semibold text-sm">Fermentables</span>
      </div>
      <table class="w-full border-collapse border border-black text-sm">
        <thead>
          <tr>
            <th class="border border-black px-2 py-1 text-left bg-gray-50">Name</th>
            <th class="border border-black px-2 py-1 w-32 bg-gray-50">Amount (kg)</th>
            <th class="border border-black px-2 py-1 w-32 bg-gray-50">%</th>
            <th class="border border-black px-2 py-1 w-24 bg-gray-50">Delete</th>
          </tr>
        </thead>
        <tbody id="fermentable-body"></tbody>
      </table>
      <!-- moved button below the table -->
      <div class="text-right">
        <button id="add-fermentable" class="text-xs underline">+ Add</button>
      </div>
    </div>

    <!-- Hops -->
    <div class="mb-6">
      <div class="flex justify-between mb-2 items-center">
        <span class="font-semibold text-sm">Hops</span>
      </div>
      <table class="w-full border-collapse border border-black text-sm">
        <thead>
          <tr>
            <th class="border border-black px-2 py-1 text-left bg-gray-50">Name</th>
            <th class="border border-black px-2 py-1 w-24 bg-gray-50">Amount (g)</th>
            <th class="border border-black px-2 py-1 w-24 bg-gray-50">Time (min)</th>
            <th class="border border-black px-2 py-1 w-32 bg-gray-50">Where</th>
            <th class="border border-black px-2 py-1 w-24 bg-gray-50">IBU</th>
            <th class="border border-black px-2 py-1 w-24 bg-gray-50">Delete</th>
          </tr>
        </thead>
        <tbody id="hop-body"></tbody>
      </table>
      <!-- moved button below the table -->
      <div class="text-right">
        <button id="add-hop" class="text-xs underline">+ Add</button>
      </div>
    </div>

    <!-- Additives -->
    <div class="mb-6">
      <div class="flex justify-between mb-2 items-center">
        <span class="font-semibold text-sm">Additives / Spices</span>
      </div>
      <table class="w-full border-collapse border border-black text-sm">
        <thead>
          <tr>
            <th class="border border-black px-2 py-1 text-left bg-gray-50">Name</th>
            <th class="border border-black px-2 py-1 w-32 bg-gray-50">Amount</th>
            <th class="border border-black px-2 py-1 w-32 bg-gray-50">Type</th>
            <th class="border border-black px-2 py-1 w-32 bg-gray-50">Where</th>
            <th class="border border-black px-2 py-1 w-24 bg-gray-50">Delete</th>
          </tr>
        </thead>
        <tbody id="additive-body"></tbody>
      </table>
      <!-- moved button below the table -->
      <div class="text-right">
        <button id="add-additive" class="text-xs underline">+ Add</button>
      </div>
    </div>

    <!-- Mash profile -->
    <div>
      <div class="flex justify-between mb-2 items-center">
        <span class="font-semibold text-sm">Mash profile</span>
      </div>
      <table class="w-full border-collapse border border-black text-sm">
        <thead>
          <tr>
            <th class="border border-black px-2 py-1 w-20 bg-gray-50">Step No.</th>
            <th class="border border-black px-2 py-1 text-left bg-gray-50">Name</th>
            <th class="border border-black px-2 py-1 w-32 bg-gray-50">Temp ¬∞C</th>
            <th class="border border-black px-2 py-1 w-32 bg-gray-50">Time (min)</th>
            <th class="border border-black px-2 py-1 w-24 bg-gray-50">Delete</th>
          </tr>
        </thead>
        <tbody id="mash-body"></tbody>
      </table>
      <!-- moved button below the table -->
      <div class="text-right">
        <button id="add-mash" class="text-xs underline">+ Add</button>
      </div>
    </div>
  </div>
</div>

<script>
  // Generic function to add row
  function addRow(tableBodyId, cellsHtml) {
    const body = document.getElementById(tableBodyId);
    const row = document.createElement('tr');
    row.innerHTML = cellsHtml;
    body.appendChild(row);

    // Attach delete
    const delBtn = row.querySelector('.delete-btn');
    delBtn?.addEventListener('click', () => row.remove());
  }

  // Fermentable
  document.getElementById('add-fermentable').addEventListener('click', () => {
    addRow('fermentable-body', `
      <td class="border border-black px-2 py-1">
      <select class="w-full border-none outline-none">
        <option value="">Select Fermentable</option>
        <option value="fermentable1">Fermentable 1</option>
        <option value="fermentable2">Fermentable 2</option>
        <option value="fermentable3">Fermentable 3</option>
      </select>
    </td>
      <td class="border border-black px-2 py-1">
        <input type="number" class="w-full border-none outline-none" step="0.01">
      </td>
      <td class="border border-black px-2 py-1">
        <input type="number" class="w-full border-none outline-none" step="0.1">
      </td>
      <td class="border border-black px-2 py-1 text-center">
        <button class="delete-btn text-xs hover:text-red-600">Delete</button>
      </td>
    `);
  });

  // Hops
  document.getElementById('add-hop').addEventListener('click', () => {
    addRow('hop-body', `
      <td class="border border-black px-2 py-1">
      <select class="w-full border-none outline-none">
        <option value="">Select Hops</option>
        <option value="hop1">Hops1</option>
        <option value="hop2">Hops2</option>
        <option value="hop3">Hops3</option>
      </select>
    </td>
      <td class="border border-black px-2 py-1"><input type="number" class="w-full border-none outline-none" step="0.1"></td>
      <td class="border border-black px-2 py-1"><input type="number" class="w-full border-none outline-none" step="1"></td>
      <td class="border border-black px-2 py-1">
        <select class="w-full border-none outline-none">
          <option value="">Select</option>
          <option value="boil">Boil</option>
          <option value="whirlpool">Whirlpool</option>
          <option value="dry-hop">Dry Hop</option>
        </select>
      </td>
      <td class="border border-black px-2 py-1"><input type="number" class="w-full border-none outline-none" step="0.1" readonly></td>
      <td class="border border-black px-2 py-1 text-center"><button class="delete-btn text-xs hover:text-red-600">Delete</button></td>
    `);
  });

  // Additives
  document.getElementById('add-additive').addEventListener('click', () => {
    addRow('additive-body', `
      <td class="border border-black px-2 py-1">
      <select class="w-full border-none outline-none">
        <option value="">Select Additives</option>
        <option value="additive1">Additive 1</option>
        <option value="additive2">Additive 2</option>
        <option value="additive3">Additive 3</option>
      </select>
    </td>
      <td class="border border-black px-2 py-1"><input type="text" class="w-full border-none outline-none"></td>
      <td class="border border-black px-2 py-1"><input type="text" class="w-full border-none outline-none"></td>
      <td class="border border-black px-2 py-1">
        <select class="w-full border-none outline-none">
          <option value="">Select</option>
          <option value="mash">Mash</option>
          <option value="boil">Boil</option>
          <option value="fermentation">Fermentation</option>
        </select>
      </td>
      <td class="border border-black px-2 py-1 text-center"><button class="delete-btn text-xs hover:text-red-600">Delete</button></td>
    `);
  });

  // Mash
  document.getElementById('add-mash').addEventListener('click', () => {
    const body = document.getElementById('mash-body');
    const stepNo = body.children.length + 1;
    addRow('mash-body', `
      <td class="border border-black px-2 py-1"><input type="number" class="w-full border-none outline-none" value="${stepNo}" readonly></td>
      <td class="border border-black px-2 py-1"><input type="text" class="w-full border-none outline-none" placeholder="Step name"></td>
      <td class="border border-black px-2 py-1"><input type="number" class="w-full border-none outline-none" step="0.1"></td>
      <td class="border border-black px-2 py-1"><input type="number" class="w-full border-none outline-none" step="1"></td>
      <td class="border border-black px-2 py-1 text-center"><button class="delete-btn text-xs hover:text-red-600">Delete</button></td>
    `);
  });

  // Nav highlight
  document.querySelectorAll('.nav-item').forEach(item => {
    item.addEventListener('click', e => {
      document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('bg-gray-100'));
      item.classList.add('bg-gray-100');
    });
  });

</script>

</body>
</html>
    
